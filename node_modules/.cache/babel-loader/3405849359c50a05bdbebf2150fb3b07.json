{"ast":null,"code":"import _defineProperty from\"C:\\\\Users\\\\KIIT\\\\Documents\\\\Projects\\\\OPEN\\\\DevLearn\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";import _classCallCheck from\"C:\\\\Users\\\\KIIT\\\\Documents\\\\Projects\\\\OPEN\\\\DevLearn\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\KIIT\\\\Documents\\\\Projects\\\\OPEN\\\\DevLearn\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"C:\\\\Users\\\\KIIT\\\\Documents\\\\Projects\\\\OPEN\\\\DevLearn\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"C:\\\\Users\\\\KIIT\\\\Documents\\\\Projects\\\\OPEN\\\\DevLearn\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{connect}from'react-redux';import{Link,withRouter}from'react-router-dom';import PropTypes from'prop-types';import{login}from'../../actions';import{clearError}from'../../actions/errorAction';export var Login=/*#__PURE__*/function(_Component){_inherits(Login,_Component);var _super=_createSuper(Login);function Login(){var _this;_classCallCheck(this,Login);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={page:false,email:'',password:'',msg:null};_this.toggle=function(){// Clear Error\n_this.props.clearError();_this.setState({page:!_this.state.page});};_this.onChange=function(e){_this.setState(_defineProperty({},e.target.name,e.target.value));};_this.onSubmit=function(e){e.preventDefault();var _this$state=_this.state,email=_this$state.email,password=_this$state.password;var loginUser={email:email,password:password};_this.props.login(loginUser);};return _this;}_createClass(Login,[{key:\"componentDidUpdate\",value:function componentDidUpdate(pervProps){var _this$props=this.props,error=_this$props.error,success=_this$props.success,user=_this$props.user;if(error!==pervProps.error){// Check for register error\nif(error.id==='LOGIN_FAIL'){this.setState({msg:error.errorMessage});}else{this.setState({msg:null});}}//If Authenticated\nif(success){this.props.history.push(\"/dashboard\");}}},{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(\"div\",{className:\"bg-green-200\"},this.state.msg?/*#__PURE__*/React.createElement(\"div\",{className:\"flex justify-end\"},/*#__PURE__*/React.createElement(\"div\",{className:\"w-1/3 px-4  py-2\"},/*#__PURE__*/React.createElement(\"div\",{className:\"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative\",role:\"alert\"},/*#__PURE__*/React.createElement(\"strong\",{className:\"font-bold\"},\"Error ! \"),/*#__PURE__*/React.createElement(\"span\",{className:\"block sm:inline\"},this.state.msg),/*#__PURE__*/React.createElement(\"span\",{className:\"absolute top-0 bottom-0 right-0 px-4 py-3\"},/*#__PURE__*/React.createElement(\"svg\",{className:\"fill-current h-6 w-6 text-red-500\",role:\"button\",xmlns:\"http://www.w3.org/2000/svg\",viewBox:\"0 0 20 20\",onClick:this.toggle},/*#__PURE__*/React.createElement(\"title\",null,\"Close\"),/*#__PURE__*/React.createElement(\"path\",{d:\"M14.348 14.849a1.2 1.2 0 0 1-1.697 0L10 11.819l-2.651 3.029a1.2 1.2 0 1 1-1.697-1.697l2.758-3.15-2.759-3.152a1.2 1.2 0 1 1 1.697-1.697L10 8.183l2.651-3.031a1.2 1.2 0 1 1 1.697 1.697l-2.758 3.152 2.758 3.15a1.2 1.2 0 0 1 0 1.698z\"})))))):null,/*#__PURE__*/React.createElement(\"div\",{className:\"w-full mx-auto flex items-center justify-center\",style:{height:'100vmin'}},/*#__PURE__*/React.createElement(\"form\",{className:\" w-1/3 bg-white shadow-md rounded px-10 pt-6 pb-8 mb-4\",onSubmit:this.onSubmit},/*#__PURE__*/React.createElement(\"div\",{className:\"mb-5\"},/*#__PURE__*/React.createElement(\"label\",{className:\"block uppercase tracking-wide text-gray-700 text-xs font-bold m-4 ml-2\"},\"Enter mail\"),/*#__PURE__*/React.createElement(\"input\",{name:\"email\",type:\"email\",className:\"shadow appearance-none border rounded w-full py-2 px-6 mb-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\",onChange:this.onChange})),/*#__PURE__*/React.createElement(\"div\",{className:\"mb-7\"},/*#__PURE__*/React.createElement(\"label\",{className:\"block uppercase tracking-wide text-gray-700 text-xs font-bold m-4 ml-2\"},\"Enter Password\"),/*#__PURE__*/React.createElement(\"input\",{name:\"password\",type:\"password\",label:\"\",className:\"shadow appearance-none border rounded w-full py-2 px-6 mb-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\",onChange:this.onChange})),/*#__PURE__*/React.createElement(\"div\",{className:\"flex items-center justify-end mt-5\"},/*#__PURE__*/React.createElement(Link,{to:\"/register\",className:\"mr-3 bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-full\"},\"Register\"),/*#__PURE__*/React.createElement(\"button\",{className:\"mr-3 bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-full\"},\"Login\")))));}}]);return Login;}(Component);var propTypes={success:PropTypes.bool,error:PropTypes.object.isRequired,login:PropTypes.func.isRequired,clearError:PropTypes.func.isRequired};var mapStateToProps=function mapStateToProps(state){return{user:state.auth.user,message:state.msg,error:state.error,success:state.auth.success};};// const mapDispatchToProps = {}\n// export const RegisterForm = reduxForm({ form: 'registerForm' })(Register);\nexport default connect(mapStateToProps,{login:login,clearError:clearError})(withRouter(Login));","map":{"version":3,"sources":["C:/Users/KIIT/Documents/Projects/OPEN/DevLearn/client/src/components/Header/Login.js"],"names":["React","Component","connect","Link","withRouter","PropTypes","login","clearError","Login","state","page","email","password","msg","toggle","props","setState","onChange","e","target","name","value","onSubmit","preventDefault","loginUser","pervProps","error","success","user","id","errorMessage","history","push","height","propTypes","bool","object","isRequired","func","mapStateToProps","auth","message"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Link, withRouter } from 'react-router-dom';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport { login } from '../../actions';\r\nimport { clearError } from '../../actions/errorAction';\r\n\r\nexport class Login extends Component {\r\n  state = {\r\n    page: false,\r\n    email: '',\r\n    password: '',\r\n    msg: null,\r\n  };\r\n\r\n  componentDidUpdate(pervProps) {\r\n    const { error, success, user } = this.props;\r\n    if (error !== pervProps.error) {\r\n      // Check for register error\r\n      if (error.id === 'LOGIN_FAIL') {\r\n        this.setState({ msg: error.errorMessage });\r\n      } else {\r\n        this.setState({ msg: null });\r\n      }\r\n    }\r\n    //If Authenticated\r\n\r\n    if (success) {\r\n      this.props.history.push(`/dashboard`);\r\n    }\r\n  }\r\n\r\n  toggle = () => {\r\n    // Clear Error\r\n    this.props.clearError();\r\n\r\n    this.setState({ page: !this.state.page });\r\n  };\r\n\r\n  onChange = (e) => {\r\n    this.setState({ [e.target.name]: e.target.value });\r\n  };\r\n\r\n  onSubmit = (e) => {\r\n    e.preventDefault();\r\n    const { email, password } = this.state;\r\n\r\n    const loginUser = {\r\n      email,\r\n      password,\r\n    };\r\n    this.props.login(loginUser);\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div className='bg-green-200'>\r\n        {this.state.msg ? (\r\n          <div className='flex justify-end'>\r\n            <div className='w-1/3 px-4  py-2'>\r\n              <div\r\n                className='bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative'\r\n                role='alert'>\r\n                <strong className='font-bold'>Error ! </strong>\r\n                <span className='block sm:inline'>{this.state.msg}</span>\r\n                <span className='absolute top-0 bottom-0 right-0 px-4 py-3'>\r\n                  <svg\r\n                    className='fill-current h-6 w-6 text-red-500'\r\n                    role='button'\r\n                    xmlns='http://www.w3.org/2000/svg'\r\n                    viewBox='0 0 20 20'\r\n                    onClick={this.toggle}>\r\n                    <title>Close</title>\r\n                    <path d='M14.348 14.849a1.2 1.2 0 0 1-1.697 0L10 11.819l-2.651 3.029a1.2 1.2 0 1 1-1.697-1.697l2.758-3.15-2.759-3.152a1.2 1.2 0 1 1 1.697-1.697L10 8.183l2.651-3.031a1.2 1.2 0 1 1 1.697 1.697l-2.758 3.152 2.758 3.15a1.2 1.2 0 0 1 0 1.698z' />\r\n                  </svg>\r\n                </span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        ) : null}\r\n        <div\r\n          className='w-full mx-auto flex items-center justify-center'\r\n          style={{ height: '100vmin' }}>\r\n          <form\r\n            className=' w-1/3 bg-white shadow-md rounded px-10 pt-6 pb-8 mb-4'\r\n            onSubmit={this.onSubmit}>\r\n            <div className='mb-5'>\r\n              <label className='block uppercase tracking-wide text-gray-700 text-xs font-bold m-4 ml-2'>\r\n                Enter mail\r\n              </label>\r\n              <input\r\n                name='email'\r\n                type='email'\r\n                className='shadow appearance-none border rounded w-full py-2 px-6 mb-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline'\r\n                onChange={this.onChange}\r\n              />\r\n            </div>\r\n            <div className='mb-7'>\r\n              <label className='block uppercase tracking-wide text-gray-700 text-xs font-bold m-4 ml-2'>\r\n                Enter Password\r\n              </label>\r\n              <input\r\n                name='password'\r\n                type='password'\r\n                label=''\r\n                className='shadow appearance-none border rounded w-full py-2 px-6 mb-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline'\r\n                onChange={this.onChange}\r\n              />\r\n            </div>\r\n            <div className='flex items-center justify-end mt-5'>\r\n              <Link\r\n                to='/register'\r\n                className='mr-3 bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-full'>\r\n                Register\r\n              </Link>\r\n              <button className='mr-3 bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-full'>\r\n                Login\r\n              </button>\r\n            </div>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst propTypes = {\r\n  success: PropTypes.bool,\r\n  error: PropTypes.object.isRequired,\r\n  login: PropTypes.func.isRequired,\r\n  clearError: PropTypes.func.isRequired,\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n  user: state.auth.user,\r\n  message: state.msg,\r\n  error: state.error,\r\n  success: state.auth.success,\r\n});\r\n\r\n// const mapDispatchToProps = {}\r\n\r\n// export const RegisterForm = reduxForm({ form: 'registerForm' })(Register);\r\n\r\nexport default connect(mapStateToProps, { login, clearError })(\r\n  withRouter(Login)\r\n);\r\n"]},"metadata":{},"sourceType":"module"}