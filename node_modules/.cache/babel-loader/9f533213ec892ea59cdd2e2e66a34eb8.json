{"ast":null,"code":"var _jsxFileName = \"D:\\\\Projects\\\\OPEN\\\\DevLearn\\\\client\\\\src\\\\components\\\\Admin\\\\RegisteredUser.js\";\nimport React, { Component } from 'react';\nimport { displayUser, activateUser } from '../../actions';\nimport { connect } from 'react-redux';\nimport Grid from './Sections/Grid';\nimport NotFound from '../404/NotFound';\n\nclass RegisteredUser extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      isAdmin: null,\n      msg: null,\n      users: [],\n      change: false,\n      LoadingDetails: true\n    };\n\n    this.toggle = () => {\n      // Clear Error\n      this.setState({\n        msg: null\n      });\n    };\n\n    this.handleClick = user => {\n      console.log(user);\n      const {\n        firstName,\n        email\n      } = user;\n      console.log(this.props);\n      this.props.activateUser({\n        firstName,\n        email\n      });\n    };\n  }\n\n  async componentDidUpdate() {\n    const {\n      isAdmin\n    } = this.state;\n\n    if (!this.state.change) {\n      if (isAdmin) {\n        await fetch('/api/users').then(res => res.json()).then(data => {\n          if (data.success) {\n            this.setState({\n              users: data.RegisteredUser,\n              change: true,\n              LoadingDetails: false,\n              msg: data.message\n            });\n          }\n        }).catch(err => {});\n      }\n    }\n  }\n\n  async componentDidMount() {\n    await fetch('/api/users/auth').then(res => res.json()).then(data => {\n      if (data.isAuth) {\n        this.setState({\n          isAdmin: data.user.isAdmin,\n          msg: data.message\n        });\n      } else {\n        this.setState({\n          isAdmin: false,\n          msg: data.errorMessage\n        });\n      }\n    }).catch(err => {});\n  }\n\n  render() {\n    const {\n      users,\n      LoadingDetails\n    } = this.state;\n    const renderUsers = users === null || users === void 0 ? void 0 : users.map((user, _id) => {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        key: _id,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(Grid, {\n        firstName: user.firstName,\n        lastName: user.lastName,\n        email: user.email,\n        role: user.role,\n        userName: user.userName,\n        phoneNumber: user.phoneNumber,\n        whatsAppNumber: user.phoneNumber,\n        city: user.city,\n        state: user.city,\n        pinCode: user.pinCode,\n        keyValue: _id,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 11\n        }\n      }));\n    });\n\n    if (!this.props.isAuth) {\n      return /*#__PURE__*/React.createElement(NotFound, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 14\n        }\n      });\n    }\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 7\n      }\n    }, this.state.msg ? /*#__PURE__*/React.createElement(\"div\", {\n      className: \"absolute right-0\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"flex justify-end \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"px-4  py-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: `${success ? 'bg-green-100 border border-green-400 text-green-700' : 'bg-red-100 border border-red-400 text-red-700'} px-4 py-3 rounded relative`,\n      role: \"alert\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"block sm:inline mr-6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 19\n      }\n    }, this.state.msg), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"absolute top-0 bottom-0 right-0 px-4 py-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"svg\", {\n      className: \"fill-current h-6 w-6 text-red-500\",\n      role: \"button\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      viewBox: \"0 0 20 20\",\n      onClick: this.toggle,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"title\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 23\n      }\n    }, \"Close\"), /*#__PURE__*/React.createElement(\"path\", {\n      d: \"M14.348 14.849a1.2 1.2 0 0 1-1.697 0L10 11.819l-2.651 3.029a1.2 1.2 0 1 1-1.697-1.697l2.758-3.15-2.759-3.152a1.2 1.2 0 1 1 1.697-1.697L10 8.183l2.651-3.031a1.2 1.2 0 1 1 1.697 1.697l-2.758 3.152 2.758 3.15a1.2 1.2 0 0 1 0 1.698z\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 23\n      }\n    }))))))) : null, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"text-6xl font-ubuntu bg-gray-800 py-64 text-gray-100 text-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 9\n      }\n    }, \"Registered User\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"-mt-32 mb-6 rounded border-2 border-gray-200 container mx-auto bg-white p-4 shadow\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 9\n      }\n    }, !LoadingDetails ? renderUsers : /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 44\n      }\n    }, \"Loading..\")));\n  }\n\n}\n\nconst mapStateToProps = state => ({\n  auth: state.auth,\n  isAdmin: state.auth.isAdmin,\n  isAuth: state.auth.isLogin,\n  users: state.dashboard.users,\n  isLoading: state.dashboard.isLoading\n});\n\nexport default connect(mapStateToProps, {\n  displayUser,\n  activateUser\n})(RegisteredUser);","map":{"version":3,"sources":["D:/Projects/OPEN/DevLearn/client/src/components/Admin/RegisteredUser.js"],"names":["React","Component","displayUser","activateUser","connect","Grid","NotFound","RegisteredUser","state","isAdmin","msg","users","change","LoadingDetails","toggle","setState","handleClick","user","console","log","firstName","email","props","componentDidUpdate","fetch","then","res","json","data","success","message","catch","err","componentDidMount","isAuth","errorMessage","render","renderUsers","map","_id","lastName","role","userName","phoneNumber","city","pinCode","mapStateToProps","auth","isLogin","dashboard","isLoading"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport { displayUser, activateUser } from '../../actions';\r\nimport { connect } from 'react-redux';\r\nimport Grid from './Sections/Grid';\r\nimport NotFound from '../404/NotFound';\r\n\r\nclass RegisteredUser extends Component {\r\n  state = {\r\n    isAdmin: null,\r\n    msg: null,\r\n    users: [],\r\n    change: false,\r\n    LoadingDetails: true,\r\n  };\r\n\r\n  toggle = () => {\r\n    // Clear Error\r\n\r\n    this.setState({\r\n      msg: null,\r\n    });\r\n  };\r\n  async componentDidUpdate() {\r\n    const { isAdmin } = this.state;\r\n    if (!this.state.change) {\r\n      if (isAdmin) {\r\n        await fetch('/api/users')\r\n          .then((res) => res.json())\r\n          .then((data) => {\r\n            if (data.success) {\r\n              this.setState({\r\n                users: data.RegisteredUser,\r\n                change: true,\r\n                LoadingDetails: false,\r\n                msg: data.message,\r\n              });\r\n            }\r\n          })\r\n          .catch((err) => {});\r\n      }\r\n    }\r\n  }\r\n\r\n  async componentDidMount() {\r\n    await fetch('/api/users/auth')\r\n      .then((res) => res.json())\r\n      .then((data) => {\r\n        if (data.isAuth) {\r\n          this.setState({ isAdmin: data.user.isAdmin, msg: data.message });\r\n        } else {\r\n          this.setState({ isAdmin: false, msg: data.errorMessage });\r\n        }\r\n      })\r\n      .catch((err) => {});\r\n  }\r\n\r\n  handleClick = (user) => {\r\n    console.log(user);\r\n    const { firstName, email } = user;\r\n    console.log(this.props);\r\n    this.props.activateUser({ firstName, email });\r\n  };\r\n\r\n  render() {\r\n    const { users, LoadingDetails } = this.state;\r\n\r\n    const renderUsers = users?.map((user, _id) => {\r\n      return (\r\n        <div key={_id}>\r\n          <Grid\r\n            firstName={user.firstName}\r\n            lastName={user.lastName}\r\n            email={user.email}\r\n            role={user.role}\r\n            userName={user.userName}\r\n            phoneNumber={user.phoneNumber}\r\n            whatsAppNumber={user.phoneNumber}\r\n            city={user.city}\r\n            state={user.city}\r\n            pinCode={user.pinCode}\r\n            keyValue={_id}\r\n          />\r\n        </div>\r\n      );\r\n    });\r\n\r\n    if (!this.props.isAuth) {\r\n      return <NotFound />;\r\n    }\r\n    return (\r\n      <div>\r\n        {this.state.msg ? (\r\n          <div className='absolute right-0'>\r\n            <div className='flex justify-end '>\r\n              <div className='px-4  py-2'>\r\n                <div\r\n                  className={`${\r\n                    success\r\n                      ? 'bg-green-100 border border-green-400 text-green-700'\r\n                      : 'bg-red-100 border border-red-400 text-red-700'\r\n                  } px-4 py-3 rounded relative`}\r\n                  role='alert'>\r\n                  <span className='block sm:inline mr-6'>{this.state.msg}</span>\r\n                  <span className='absolute top-0 bottom-0 right-0 px-4 py-3'>\r\n                    <svg\r\n                      className='fill-current h-6 w-6 text-red-500'\r\n                      role='button'\r\n                      xmlns='http://www.w3.org/2000/svg'\r\n                      viewBox='0 0 20 20'\r\n                      onClick={this.toggle}>\r\n                      <title>Close</title>\r\n                      <path d='M14.348 14.849a1.2 1.2 0 0 1-1.697 0L10 11.819l-2.651 3.029a1.2 1.2 0 1 1-1.697-1.697l2.758-3.15-2.759-3.152a1.2 1.2 0 1 1 1.697-1.697L10 8.183l2.651-3.031a1.2 1.2 0 1 1 1.697 1.697l-2.758 3.152 2.758 3.15a1.2 1.2 0 0 1 0 1.698z' />\r\n                    </svg>\r\n                  </span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        ) : null}\r\n        <div className='text-6xl font-ubuntu bg-gray-800 py-64 text-gray-100 text-center'>\r\n          Registered User\r\n        </div>\r\n        <div className='-mt-32 mb-6 rounded border-2 border-gray-200 container mx-auto bg-white p-4 shadow'>\r\n          {!LoadingDetails ? renderUsers : <div>Loading..</div>}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nconst mapStateToProps = (state) => ({\r\n  auth: state.auth,\r\n  isAdmin: state.auth.isAdmin,\r\n  isAuth: state.auth.isLogin,\r\n  users: state.dashboard.users,\r\n  isLoading: state.dashboard.isLoading,\r\n});\r\n\r\nexport default connect(mapStateToProps, { displayUser, activateUser })(\r\n  RegisteredUser\r\n);\r\n"]},"metadata":{},"sourceType":"module"}